.. _`GET All`: https://developer.kontur.ru/doc/extern/method?type=get&path=%2Fv1

Алгоритм работы с API
=====================

Порядок работы с методами зависит от цели и задач, которые вы решаете. Основное направление в работе с API Контур.Экстерна — `Отправка отчетности в контролирующие органы`_.

.. _rst-markup-sendalg:

Отправка отчетности в контролирующие органы
-------------------------------------------

**Контролирующий орган** (далее — КО) — ФНС, ПФР, ФНС или Росстат.

Рассмотрим последовательность действий и методов для отправки отчетности в КО. В частности, покажем наиболее частый сценарий использования API — отправка отчетности в ФНС.

.. image:: /_static/howtoalgorithm.jpg

Алгоритм работы с методами API Контур.Экстерна для отправки отчетности в ФНС:

1. :doc:`Аутентификация</auth_oidc/index>`
2. Выбор учетной записи, от имени которой будет происходить работа с API. Учетная запись создается в момент подключения к Контур.Экстерну. Чтобы посмотреть доступные учетные записи воспользуйтесь методом `GET All`_.
3. :ref:`Работа с черновиком<rst-markup-howtodraft>`:

    1. Создание черновика.
    2. Наполнение черновика файлами документов.
    3. Проверка документов.
    4. Наполнение черновика подписями документов.
    5. Проверка, подготовка, отправка черновика. 

4. :ref:`Работа с документооборотом<rst-markup-howtodс>`:

    1. Отслеживание статуса документооборота до его завершения.
    2. Отправка ответных документов в налоговый орган. 

В следующих статьях мы подробно расскажем, какие методы минимально необходимо использовать для реализации сценария отправки отчетности в КО и приведем примеры работы с ними.